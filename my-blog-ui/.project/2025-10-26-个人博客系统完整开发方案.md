# ä¸ªäººåšå®¢ç³»ç»Ÿ - å®Œæ•´å¼€å‘æ–¹æ¡ˆ

> ç‰ˆæœ¬ï¼šv2.0  
> åˆ›å»ºæ—¶é—´ï¼š2025-10-26  
> åŸºäºï¼šéœ€æ±‚æ–‡æ¡£ + API æ¥å£æ–‡æ¡£  
> æŠ€æœ¯æ ˆï¼šVue3 + TypeScript + Vite + Pinia + Element Plus

---

## ç›®å½•

1. [é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ](#1-é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ)
2. [æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡](#2-æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡)
3. [è¯¦ç»†åŠŸèƒ½è®¾è®¡](#3-è¯¦ç»†åŠŸèƒ½è®¾è®¡)
4. [é¡µé¢ç»“æ„è®¾è®¡](#4-é¡µé¢ç»“æ„è®¾è®¡)
5. [ç»„ä»¶æ¶æ„è®¾è®¡](#5-ç»„ä»¶æ¶æ„è®¾è®¡)
6. [çŠ¶æ€ç®¡ç†è®¾è®¡](#6-çŠ¶æ€ç®¡ç†è®¾è®¡)
7. [API æ¥å£å¯¹æ¥æ–¹æ¡ˆ](#7-api-æ¥å£å¯¹æ¥æ–¹æ¡ˆ)
8. [UI/UX è®¾è®¡è§„èŒƒ](#8-uiux-è®¾è®¡è§„èŒƒ)
9. [å¼€å‘å®æ–½è®¡åˆ’](#9-å¼€å‘å®æ–½è®¡åˆ’)
10. [æµ‹è¯•ä¸éƒ¨ç½²æ–¹æ¡ˆ](#10-æµ‹è¯•ä¸éƒ¨ç½²æ–¹æ¡ˆ)

---

## 1. é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ

### 1.1 é¡¹ç›®èƒŒæ™¯

æ„å»ºä¸€ä¸ªä¸ªäººç½‘ç«™ï¼Œç”¨äºå­˜æ”¾å’Œç®¡ç†å­¦ä¹ æ–‡æ¡£ï¼Œå‚è€ƒæˆç†Ÿçš„æ–‡æ¡£ç®¡ç†ç³»ç»Ÿè®¾è®¡ã€‚

**æ ¸å¿ƒç›®æ ‡**ï¼š
- æ–¹ä¾¿ä¸ªäººç®¡ç†å’Œå±•ç¤ºå­¦ä¹ æ–‡æ¡£
- æä¾›æ–‡æ¡£åˆ†ç±»ã€æ£€ç´¢åŠŸèƒ½
- ç®€æ´ç°ä»£çš„ç•Œé¢è®¾è®¡
- å®‰å…¨æ€§ä¿éšœ

### 1.2 éœ€æ±‚åˆ†æ

#### åŠŸèƒ½éœ€æ±‚ï¼ˆä¼˜å…ˆçº§æ’åºï¼‰

| éœ€æ±‚ | ä¼˜å…ˆçº§ | åŠŸèƒ½æè¿° | ç”¨æˆ·åœºæ™¯ |
|------|--------|----------|----------|
| **éœ€æ±‚1ï¼šæ–‡æ¡£ä¸Šä¼ ** | ğŸ”´ é«˜ | æ”¯æŒä¸Šä¼  PDFã€DOCXã€DOCã€TXTï¼ˆæœ€å¤§100MBï¼‰ | ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ä¸Šä¼ ï¼Œç³»ç»Ÿæç¤ºä¸Šä¼ æˆåŠŸ |
| **éœ€æ±‚2ï¼šç”¨æˆ·è®¤è¯** | ğŸ”´ é«˜ | æ³¨å†Œ/ç™»å½•ï¼ŒJWT Token è®¤è¯ | æ–°ç”¨æˆ·æ³¨å†Œï¼Œå·²æ³¨å†Œç”¨æˆ·ç™»å½• |
| **éœ€æ±‚3ï¼šæ–‡æ¡£å±•ç¤º** | ğŸŸ¡ ä¸­ | å¡ç‰‡å¼å¸ƒå±€ï¼Œå±•ç¤ºæ ‡é¢˜ã€ç®€ä»‹ã€ç¼©ç•¥å›¾ | ç”¨æˆ·æµè§ˆæ–‡æ¡£åˆ—è¡¨ï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… |
| **éœ€æ±‚4ï¼šåˆ†ç±»ç®¡ç†** | ğŸŸ¡ ä¸­ | åˆ›å»º/ç¼–è¾‘/åˆ é™¤åˆ†ç±»ï¼Œæ–‡æ¡£åˆ†ç±»ç­›é€‰ | ç”¨æˆ·åˆ›å»ºåˆ†ç±»ï¼Œå°†æ–‡æ¡£åˆ†é…åˆ°åˆ†ç±» |
| **éœ€æ±‚5ï¼šæ–‡æ¡£æ£€ç´¢** | ğŸŸ¡ ä¸­ | å…³é”®è¯æœç´¢ï¼Œå®æ—¶æç¤º | ç”¨æˆ·è¾“å…¥å…³é”®è¯ï¼ŒæŸ¥çœ‹æœç´¢ç»“æœ |
| **éœ€æ±‚6ï¼šç•Œé¢è®¾è®¡** | ğŸŸ¡ ä¸­ | ç®€æ´ç°ä»£é£æ ¼ï¼Œå“åº”å¼å¸ƒå±€ | ç”¨æˆ·æ‰“å¼€ç½‘ç«™ï¼Œæµç•…ä½¿ç”¨å„åŠŸèƒ½ |

#### éåŠŸèƒ½éœ€æ±‚

- **æ€§èƒ½éœ€æ±‚**ï¼šå¿«é€Ÿå“åº”ï¼Œæ”¯æŒå¤§æ–‡ä»¶ä¸Šä¼ 
- **å®‰å…¨éœ€æ±‚**ï¼šå¯†ç åŠ å¯†ï¼ŒJWT Token è®¤è¯ï¼Œæ–‡ä»¶ç±»å‹éªŒè¯
- **æ˜“ç”¨æ€§**ï¼šç•Œé¢ç®€æ´ï¼Œæ“ä½œç›´è§‚
- **å¯ç»´æŠ¤æ€§**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œä¾¿äºæ‰©å±•
- **å…¼å®¹æ€§**ï¼šæ”¯æŒä¸»æµæµè§ˆå™¨ï¼Œå“åº”å¼è®¾è®¡

---

## 2. æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡

### 2.1 å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é€‰æ‹©ç†ç”± |
|------|------|------|----------|
| Vue 3 | 3.x | æ ¸å¿ƒæ¡†æ¶ | Composition APIï¼Œæ€§èƒ½ä¼˜ç§€ï¼Œç±»å‹æ”¯æŒå¥½ |
| TypeScript | 5.x | å¼€å‘è¯­è¨€ | ç±»å‹å®‰å…¨ï¼Œæå‡ä»£ç è´¨é‡ |
| Vite | 5.x | æ„å»ºå·¥å…· | æé€Ÿçš„å¼€å‘ä½“éªŒï¼Œçƒ­æ›´æ–°å¿« |
| Pinia | 2.x | çŠ¶æ€ç®¡ç† | Vue3 æ¨èï¼Œæ¯” Vuex æ›´ç®€æ´ |
| Element Plus | 2.x | UI ç»„ä»¶åº“ | ç»„ä»¶ä¸°å¯Œï¼Œæ–‡æ¡£å®Œå–„ï¼Œå›¢é˜Ÿç†Ÿæ‚‰ |
| Vue Router | 4.x | è·¯ç”±ç®¡ç† | Vue3 å®˜æ–¹è·¯ç”± |
| Axios | 1.x | HTTP è¯·æ±‚ | æˆç†Ÿçš„ HTTP åº“ï¼Œæ‹¦æˆªå™¨å¼ºå¤§ |
| SCSS | 1.x | CSS é¢„å¤„ç†å™¨ | å˜é‡ã€åµŒå¥—ï¼Œæå‡æ ·å¼å¼€å‘æ•ˆç‡ |

### 2.2 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å‰ç«¯åº”ç”¨å±‚ (Vue3)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚  ç”¨æˆ·ç®¡ç† â”‚  â”‚ æ–‡æ¡£ç®¡ç†  â”‚  â”‚ åˆ†ç±»ç®¡ç†  â”‚
â”‚  â”‚  æ¨¡å—    â”‚  â”‚  æ¨¡å—    â”‚  â”‚  æ¨¡å—    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚       â”‚             â”‚             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚      Pinia çŠ¶æ€ç®¡ç†              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚      API æœåŠ¡å±‚ (Axios)         â”‚
â”‚  â”‚  - è¯·æ±‚/å“åº”æ‹¦æˆªå™¨               â”‚
â”‚  â”‚  - Token ç®¡ç†                   â”‚
â”‚  â”‚  - é”™è¯¯å¤„ç†                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ HTTPS
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        åç«¯ API (http://localhost:8080)  â”‚
â”‚         /api/v1/*                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. è¯¦ç»†åŠŸèƒ½è®¾è®¡

### 3.1 ç”¨æˆ·è®¤è¯æ¨¡å—

#### åŠŸèƒ½æè¿°
æä¾›ç”¨æˆ·æ³¨å†Œã€ç™»å½•åŠŸèƒ½ï¼Œä½¿ç”¨ JWT Token è®¤è¯æœºåˆ¶ä¿éšœå®‰å…¨æ€§ã€‚

#### ç”¨æˆ·æ•…äº‹

**æ³¨å†Œåœºæ™¯**ï¼š
1. ç”¨æˆ·è®¿é—®æ³¨å†Œé¡µé¢
2. è¾“å…¥ç”¨æˆ·åã€å¯†ç ã€é‚®ç®±
3. ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
4. å‰ç«¯éªŒè¯è¾“å…¥æ ¼å¼ï¼ˆç”¨æˆ·å3-50å­—ç¬¦ï¼Œå¯†ç è‡³å°‘8ä½ï¼‰
5. è°ƒç”¨æ³¨å†Œæ¥å£
6. æˆåŠŸåæç¤º"æ³¨å†ŒæˆåŠŸ"ï¼Œè·³è½¬åˆ°ç™»å½•é¡µ

**ç™»å½•åœºæ™¯**ï¼š
1. ç”¨æˆ·è®¿é—®ç™»å½•é¡µé¢
2. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
3. ç‚¹å‡»ç™»å½•æŒ‰é’®
4. è°ƒç”¨ç™»å½•æ¥å£è·å– Token
5. Token ä¿å­˜åˆ° localStorage
6. è·³è½¬åˆ°æ–‡æ¡£åˆ—è¡¨é¡µé¢

#### API æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è®¤è¯ |
|------|------|------|------|
| ç”¨æˆ·æ³¨å†Œ | POST | /api/v1/users/register | å¦ |
| ç”¨æˆ·ç™»å½• | POST | /api/v1/users/login | å¦ |
| è·å–ç”¨æˆ·ä¿¡æ¯ | GET | /api/v1/users/info | æ˜¯ |

#### çŠ¶æ€ç®¡ç†

```typescript
// stores/user.ts
export const useUserStore = defineStore('user', () => {
  const token = ref<string | null>(localStorage.getItem('token'))
  const userInfo = ref<UserInfo | null>(null)
  
  const isAuthenticated = computed(() => !!token.value)
  
  async function login(credentials: LoginForm) {
    const response = await userApi.login(credentials)
    token.value = response.data.token
    localStorage.setItem('token', token.value)
    await getUserInfo()
    return response
  }
  
  async function register(data: RegisterForm) {
    return await userApi.register(data)
  }
  
  async function getUserInfo() {
    const response = await userApi.getUserInfo()
    userInfo.value = response.data
    return response.data
  }
  
  function logout() {
    token.value = null
    userInfo.value = null
    localStorage.removeItem('token')
  }
  
  return { token, userInfo, isAuthenticated, login, register, getUserInfo, logout }
})
```

### 3.2 æ–‡æ¡£ç®¡ç†æ¨¡å—

#### åŠŸèƒ½æè¿°
æ”¯æŒæ–‡æ¡£ä¸Šä¼ ã€åˆ—è¡¨å±•ç¤ºã€è¯¦æƒ…æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½ã€‚

#### ç”¨æˆ·æ•…äº‹

**ä¸Šä¼ åœºæ™¯**ï¼š
1. ç”¨æˆ·ç‚¹å‡»"ä¸Šä¼ æ–‡æ¡£"æŒ‰é’®
2. å¼¹å‡ºä¸Šä¼ å¯¹è¯æ¡†
3. é€‰æ‹©æ–‡ä»¶ï¼ˆæ”¯æŒ PDFã€DOCXã€DOCã€TXTï¼Œæœ€å¤§100MBï¼‰
4. å¡«å†™æ ‡é¢˜ã€æè¿°ï¼Œé€‰æ‹©åˆ†ç±»
5. ç‚¹å‡»ä¸Šä¼ ï¼Œæ˜¾ç¤ºè¿›åº¦æ¡
6. ä¸Šä¼ æˆåŠŸåæç¤º"ä¸Šä¼ æˆåŠŸ"ï¼Œåˆ·æ–°æ–‡æ¡£åˆ—è¡¨

**åˆ—è¡¨å±•ç¤ºåœºæ™¯**ï¼š
1. ç”¨æˆ·è¿›å…¥æ–‡æ¡£åˆ—è¡¨é¡µ
2. æ˜¾ç¤ºæ–‡æ¡£å¡ç‰‡ï¼ˆæ ‡é¢˜ã€æè¿°ã€ç¼©ç•¥å›¾ã€ä¸Šä¼ æ—¶é—´ï¼‰
3. æ”¯æŒåˆ†é¡µæµè§ˆï¼ˆæ¯é¡µ10æ¡ï¼‰
4. ç‚¹å‡»å¡ç‰‡è·³è½¬åˆ°æ–‡æ¡£è¯¦æƒ…é¡µ

**æŸ¥çœ‹è¯¦æƒ…åœºæ™¯**ï¼š
1. ç”¨æˆ·ç‚¹å‡»æ–‡æ¡£å¡ç‰‡
2. è·³è½¬åˆ°æ–‡æ¡£è¯¦æƒ…é¡µ
3. æ˜¾ç¤ºå®Œæ•´æ–‡æ¡£ä¿¡æ¯
4. æä¾›"é¢„è§ˆ"ã€"ä¸‹è½½"ã€"ç¼–è¾‘"ã€"åˆ é™¤"æŒ‰é’®

#### API æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è®¤è¯ |
|------|------|------|------|
| ä¸Šä¼ æ–‡æ¡£ | POST | /api/v1/documents/upload | æ˜¯ |
| æ–‡æ¡£åˆ—è¡¨ | GET | /api/v1/documents?page=1&pageSize=10 | æ˜¯ |
| æ–‡æ¡£è¯¦æƒ… | GET | /api/v1/documents/:id | æ˜¯ |
| æ›´æ–°æ–‡æ¡£ | PUT | /api/v1/documents/:id | æ˜¯ |
| åˆ é™¤æ–‡æ¡£ | DELETE | /api/v1/documents/:id | æ˜¯ |

#### çŠ¶æ€ç®¡ç†

```typescript
// stores/document.ts
export const useDocumentStore = defineStore('document', () => {
  const documents = ref<Document[]>([])
  const currentDocument = ref<Document | null>(null)
  const total = ref(0)
  const page = ref(1)
  const pageSize = ref(10)
  const loading = ref(false)
  
  async function fetchDocuments(reset = false) {
    if (reset) page.value = 1
    loading.value = true
    try {
      const response = await documentApi.getList(page.value, pageSize.value)
      documents.value = response.data.documents
      total.value = response.data.total
    } finally {
      loading.value = false
    }
  }
  
  async function uploadDocument(formData: FormData) {
    loading.value = true
    try {
      const response = await documentApi.upload(formData)
      await fetchDocuments(true) // åˆ·æ–°åˆ—è¡¨
      return response.data
    } finally {
      loading.value = false
    }
  }
  
  async function deleteDocument(id: number) {
    await documentApi.delete(id)
    await fetchDocuments() // åˆ·æ–°åˆ—è¡¨
  }
  
  return { documents, currentDocument, total, page, pageSize, loading, fetchDocuments, uploadDocument, deleteDocument }
})
```

### 3.3 åˆ†ç±»ç®¡ç†æ¨¡å—

#### åŠŸèƒ½æè¿°
æ”¯æŒåˆ†ç±»çš„åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ï¼Œæ–‡æ¡£å¯åˆ†é…åˆ°ä¸åŒåˆ†ç±»ã€‚

#### ç”¨æˆ·æ•…äº‹

**åˆ›å»ºåˆ†ç±»åœºæ™¯**ï¼š
1. ç”¨æˆ·åœ¨åˆ†ç±»ç®¡ç†é¡µé¢ç‚¹å‡»"æ–°å»ºåˆ†ç±»"
2. å¼¹å‡ºå¯¹è¯æ¡†ï¼Œè¾“å…¥åˆ†ç±»åç§°ã€æè¿°
3. ç‚¹å‡»ç¡®å®šåˆ›å»ºåˆ†ç±»
4. åˆ†ç±»æ˜¾ç¤ºåœ¨ä¾§è¾¹æ æˆ–ä¸‹æ‹‰èœå•ä¸­

**åˆ†é…åˆ†ç±»åœºæ™¯**ï¼š
1. ç”¨æˆ·ä¸Šä¼ æ–‡æ¡£æ—¶é€‰æ‹©åˆ†ç±»
2. æˆ–åœ¨ç¼–è¾‘æ–‡æ¡£æ—¶ä¿®æ”¹åˆ†ç±»
3. æ–‡æ¡£åˆ—è¡¨å¯æŒ‰åˆ†ç±»ç­›é€‰æ˜¾ç¤º

#### API æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è®¤è¯ |
|------|------|------|------|
| åˆ›å»ºåˆ†ç±» | POST | /api/v1/categories | æ˜¯ |
| åˆ†ç±»åˆ—è¡¨ | GET | /api/v1/categories | æ˜¯ |
| æ›´æ–°åˆ†ç±» | PUT | /api/v1/categories/:id | æ˜¯ |
| åˆ é™¤åˆ†ç±» | DELETE | /api/v1/categories/:id | æ˜¯ |

#### çŠ¶æ€ç®¡ç†

```typescript
// stores/category.ts
export const useCategoryStore = defineStore('category', () => {
  const categories = ref<Category[]>([])
  const loading = ref(false)
  
  async function fetchCategories() {
    loading.value = true
    try {
      const response = await categoryApi.getList()
      categories.value = response.data
    } finally {
      loading.value = false
    }
  }
  
  async function createCategory(data: Partial<Category>) {
    await categoryApi.create(data)
    await fetchCategories()
  }
  
  return { categories, loading, fetchCategories, createCategory }
})
```

### 3.4 æ–‡æ¡£æ£€ç´¢æ¨¡å—

#### åŠŸèƒ½æè¿°
æä¾›æœç´¢æ¡†ï¼Œæ”¯æŒå…³é”®è¯æœç´¢æ–‡æ¡£ï¼Œå®æ—¶æ˜¾ç¤ºæœç´¢ç»“æœã€‚

#### ç”¨æˆ·æ•…äº‹

**æœç´¢åœºæ™¯**ï¼š
1. ç”¨æˆ·åœ¨é¡¶éƒ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯
2. å®æ—¶æœç´¢æç¤ºï¼ˆé˜²æŠ–500msï¼‰
3. æ˜¾ç¤ºæœç´¢ç»“æœåˆ—è¡¨
4. ç‚¹å‡»æœç´¢ç»“æœè·³è½¬åˆ°æ–‡æ¡£è¯¦æƒ…é¡µ

#### API æ¥å£

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è®¤è¯ |
|------|------|------|------|
| æœç´¢æ–‡æ¡£ | GET | /api/v1/search?keyword=xxx&page=1&pageSize=10 | æ˜¯ |

#### çŠ¶æ€ç®¡ç†

```typescript
// stores/search.ts
export const useSearchStore = defineStore('search', () => {
  const results = ref<Document[]>([])
  const keyword = ref('')
  const total = ref(0)
  const loading = ref(false)
  
  async function search(searchKeyword: string) {
    keyword.value = searchKeyword
    loading.value = true
    try {
      const response = await searchApi.search(keyword.value)
      results.value = response.data.documents
      total.value = response.data.total
    } finally {
      loading.value = false
    }
  }
  
  return { results, keyword, total, loading, search }
})
```

---

## 4. é¡µé¢ç»“æ„è®¾è®¡

### 4.1 æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Header (é¡¶éƒ¨å¯¼èˆªæ )                 â”‚
â”‚  [Logo] [å¯¼èˆª]        [æœç´¢æ¡†] [ç”¨æˆ·èœå•]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                 â”‚
â”‚ Sidebar  â”‚        Main Content Area        â”‚
â”‚ (å¯é€‰)   â”‚        (ä¸»ä½“å†…å®¹åŒº)              â”‚
â”‚          â”‚                                 â”‚
â”‚ - åˆ†ç±»   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ - ç­›é€‰   â”‚  â”‚   æ–‡æ¡£åˆ—è¡¨å¡ç‰‡ç½‘æ ¼       â”‚  â”‚
â”‚          â”‚  â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”   â”‚  â”‚
â”‚          â”‚  â”‚  â”‚Cardâ”‚ â”‚Cardâ”‚ â”‚Cardâ”‚   â”‚  â”‚
â”‚          â”‚  â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚          â”‚  â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”   â”‚  â”‚
â”‚          â”‚  â”‚  â”‚Cardâ”‚ â”‚Cardâ”‚ â”‚Cardâ”‚   â”‚  â”‚
â”‚          â”‚  â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚         [åˆ†é¡µç»„ä»¶]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Footer (é¡µè„š)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 é¡µé¢åˆ—è¡¨

| é¡µé¢ | è·¯å¾„ | ç»„ä»¶ | æƒé™ |
|------|------|------|------|
| ç™»å½•é¡µ | /login | Login.vue | æ— éœ€è®¤è¯ |
| æ³¨å†Œé¡µ | /register | Register.vue | æ— éœ€è®¤è¯ |
| æ–‡æ¡£åˆ—è¡¨ | / | DocumentList.vue | éœ€è®¤è¯ |
| ä¸Šä¼ æ–‡æ¡£ | /documents/upload | DocumentUpload.vue | éœ€è®¤è¯ |
| æ–‡æ¡£è¯¦æƒ… | /documents/:id | DocumentDetail.vue | éœ€è®¤è¯ |
| åˆ†ç±»ç®¡ç† | /categories | CategoryManager.vue | éœ€è®¤è¯ |
| æœç´¢ç»“æœ | /search?keyword=xxx | SearchResult.vue | éœ€è®¤è¯ |

### 4.3 è·¯ç”±é…ç½®

```typescript
// src/router/index.ts
import { createRouter, createWebHistory } from 'vue-router'
import { useUserStore } from '@/stores/user'

const routes = [
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/views/auth/Login.vue'),
    meta: { title: 'ç™»å½•', requiresAuth: false }
  },
  {
    path: '/register',
    name: 'Register',
    component: () => import('@/views/auth/Register.vue'),
    meta: { title: 'æ³¨å†Œ', requiresAuth: false }
  },
  {
    path: '/',
    component: () => import('@/components/layout/AppLayout.vue'),
    meta: { requiresAuth: true },
    children: [
      {
        path: '',
        name: 'DocumentList',
        component: () => import('@/views/document/DocumentList.vue'),
        meta: { title: 'æ–‡æ¡£åˆ—è¡¨' }
      },
      {
        path: 'documents/upload',
        name: 'DocumentUpload',
        component: () => import('@/views/document/DocumentUpload.vue'),
        meta: { title: 'ä¸Šä¼ æ–‡æ¡£' }
      },
      {
        path: 'documents/:id',
        name: 'DocumentDetail',
        component: () => import('@/views/document/DocumentDetail.vue'),
        meta: { title: 'æ–‡æ¡£è¯¦æƒ…' }
      },
      {
        path: 'categories',
        name: 'CategoryManager',
        component: () => import('@/views/category/CategoryManager.vue'),
        meta: { title: 'åˆ†ç±»ç®¡ç†' }
      },
      {
        path: 'search',
        name: 'SearchResult',
        component: () => import('@/views/search/SearchResult.vue'),
        meta: { title: 'æœç´¢ç»“æœ' }
      }
    ]
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

// è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  const userStore = useUserStore()
  
  if (to.meta.requiresAuth && !userStore.isAuthenticated) {
    next({ name: 'Login', query: { redirect: to.fullPath } })
  } else if (to.name === 'Login' && userStore.isAuthenticated) {
    next('/')
  } else {
    next()
  }
})

export default router
```

---

## 5. ç»„ä»¶æ¶æ„è®¾è®¡

### 5.1 å¸ƒå±€ç»„ä»¶

#### AppLayout.vueï¼ˆä¸»å¸ƒå±€ï¼‰

```vue
<template>
  <el-container class="app-container">
    <el-header height="60px">
      <Header />
    </el-header>
    <el-container>
      <el-aside width="200px" class="sidebar">
        <Sidebar />
      </el-aside>
      <el-main class="main-content">
        <router-view v-slot="{ Component }">
          <transition name="fade" mode="out-in">
            <component :is="Component" />
          </transition>
        </router-view>
      </el-main>
    </el-container>
  </el-container>
</template>

<script setup lang="ts">
import { defineComponent } from 'vue'
import Header from '@/components/layout/Header.vue'
import Sidebar from '@/components/layout/Sidebar.vue'

defineComponent({
  name: 'AppLayout'
})
</script>

<style scoped lang="scss">
.app-container {
  height: 100vh;
  
  .sidebar {
    border-right: 1px solid #e4e7ed;
  }
  
  .main-content {
    padding: 20px;
    background-color: #f5f7fa;
  }
}

.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}
</style>
```

#### Header.vueï¼ˆé¡¶éƒ¨å¯¼èˆªï¼‰

```vue
<template>
  <div class="header">
    <div class="logo">
      <el-icon><Document /></el-icon>
      <span>ä¸ªäººæ–‡æ¡£åº“</span>
    </div>
    
    <el-menu
      mode="horizontal"
      :default-active="activeMenu"
      @select="handleMenuSelect"
    >
      <el-menu-item index="/">æ–‡æ¡£åˆ—è¡¨</el-menu-item>
      <el-menu-item index="/documents/upload">ä¸Šä¼ æ–‡æ¡£</el-menu-item>
      <el-menu-item index="/categories">åˆ†ç±»ç®¡ç†</el-menu-item>
    </el-menu>
    
    <div class="header-right">
      <SearchBar />
      
      <el-dropdown @command="handleCommand">
        <span class="user-info">
          <el-avatar :size="32" :src="userInfo?.avatar">{{ userInfo?.username }}</el-avatar>
          <span class="username">{{ userInfo?.username }}</span>
        </span>
        <template #dropdown>
          <el-dropdown-menu>
            <el-dropdown-item command="logout">é€€å‡ºç™»å½•</el-dropdown-item>
          </el-dropdown-menu>
        </template>
      </el-dropdown>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useRouter } from 'vue-router'
import { useUserStore } from '@/stores/user'
import SearchBar from '@/components/common/SearchBar.vue'

const router = useRouter()
const userStore = useUserStore()

const userInfo = computed(() => userStore.userInfo)
const activeMenu = computed(() => router.currentRoute.value.path)

function handleMenuSelect(index: string) {
  router.push(index)
}

function handleCommand(command: string) {
  if (command === 'logout') {
    userStore.logout()
    router.push('/login')
  }
}
</script>

<style scoped lang="scss">
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  border-bottom: 1px solid #e4e7ed;
  
  .logo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 18px;
    font-weight: bold;
    color: #409eff;
  }
  
  .header-right {
    display: flex;
    align-items: center;
    gap: 20px;
    
    .user-info {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      
      .username {
        font-weight: 500;
      }
    }
  }
}
</style>
```

### 5.2 æ–‡æ¡£ç»„ä»¶

#### DocumentCard.vueï¼ˆæ–‡æ¡£å¡ç‰‡ï¼‰

```vue
<template>
  <el-card
    :body-style="{ padding: '0' }"
    class="document-card"
    shadow="hover"
    @click="handleClick"
  >
    <div class="card-thumbnail">
      <img
        v-if="document.thumbnail"
        :src="document.thumbnail"
        :alt="document.title"
      />
      <el-icon v-else class="thumbnail-icon"><Document /></el-icon>
    </div>
    
    <div class="card-content">
      <h3 class="card-title">{{ document.title }}</h3>
      <p class="card-description">{{ document.description }}</p>
      
      <div class="card-meta">
        <el-tag size="small">{{ categoryName }}</el-tag>
        <span class="file-size">{{ formatFileSize(document.fileSize) }}</span>
        <span class="upload-time">{{ formatTime(document.createdAt) }}</span>
      </div>
      
      <div class="card-actions">
        <el-button type="primary" size="small" @click.stop="handleView">
          æŸ¥çœ‹
        </el-button>
        <el-button size="small" @click.stop="handleEdit">
          ç¼–è¾‘
        </el-button>
        <el-button type="danger" size="small" @click.stop="handleDelete">
          åˆ é™¤
        </el-button>
      </div>
    </div>
  </el-card>
</template>

<script setup lang="ts">
import { defineProps, defineEmits } from 'vue'
import type { Document } from '@/types/document'

const props = defineProps<{
  document: Document
}>()

const emit = defineEmits<{
  view: [id: number]
  edit: [id: number]
  delete: [id: number]
}>()
</script>

<style scoped lang="scss">
.document-card {
  cursor: pointer;
  transition: transform 0.3s;
  
  &:hover {
    transform: translateY(-4px);
  }
}
</style>
```

### 5.3 é€šç”¨ç»„ä»¶

#### SearchBar.vueï¼ˆæœç´¢æ¡†ï¼‰

```vue
<template>
  <div class="search-bar">
    <el-input
      v-model="keyword"
      placeholder="æœç´¢æ–‡æ¡£..."
      clearable
      @input="handleSearch"
      @keyup.enter="handleEnter"
    >
      <template #prefix>
        <el-icon><Search /></el-icon>
      </template>
    </el-input>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { debounce } from 'lodash-es'
import { useSearchStore } from '@/stores/search'
import { useRouter } from 'vue-router'

const router = useRouter()
const searchStore = useSearchStore()

const keyword = ref('')

const handleSearch = debounce(() => {
  if (keyword.value) {
    searchStore.search(keyword.value)
  }
}, 500)

function handleEnter() {
  if (keyword.value) {
    router.push({ path: '/search', query: { keyword: keyword.value } })
  }
}
</script>
```

---

## 6. çŠ¶æ€ç®¡ç†è®¾è®¡

### 6.1 Pinia Store æ¶æ„

```
stores/
â”œâ”€â”€ index.ts           # Pinia å®ä¾‹å¯¼å‡º
â”œâ”€â”€ user.ts           # ç”¨æˆ·çŠ¶æ€ç®¡ç†
â”œâ”€â”€ document.ts       # æ–‡æ¡£çŠ¶æ€ç®¡ç†
â”œâ”€â”€ category.ts       # åˆ†ç±»çŠ¶æ€ç®¡ç†
â””â”€â”€ search.ts         # æœç´¢çŠ¶æ€ç®¡ç†
```

### 6.2 Store è¯¦ç»†è®¾è®¡

#### User Storeï¼ˆç”¨æˆ·çŠ¶æ€ï¼‰

```typescript
// stores/user.ts
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { userApi } from '@/api/user'
import type { UserInfo, LoginForm, RegisterForm } from '@/types/user'

export const useUserStore = defineStore('user', () => {
  const token = ref<string | null>(localStorage.getItem('token'))
  const userInfo = ref<UserInfo | null>(null)
  const loading = ref(false)
  
  const isAuthenticated = computed(() => !!token.value)
  
  async function login(credentials: LoginForm) {
    loading.value = true
    try {
      const response = await userApi.login(credentials)
      token.value = response.data.token
      localStorage.setItem('token', token.value)
      await getUserInfo()
      return response
    } finally {
      loading.value = false
    }
  }
  
  async function register(data: RegisterForm) {
    loading.value = true
    try {
      return await userApi.register(data)
    } finally {
      loading.value = false
    }
  }
  
  async function getUserInfo() {
    if (!token.value) return null
    
    loading.value = true
    try {
      const response = await userApi.getUserInfo()
      userInfo.value = response.data
      return response.data
    } finally {
      loading.value = false
    }
  }
  
  function logout() {
    token.value = null
    userInfo.value = null
    localStorage.removeItem('token')
  }
  
  return {
    token,
    userInfo,
    loading,
    isAuthenticated,
    login,
    register,
    getUserInfo,
    logout
  }
})
```

---

## 7. API æ¥å£å¯¹æ¥æ–¹æ¡ˆ

### 7.1 Axios é…ç½®

```typescript
// src/api/request.ts
import axios from 'axios'
import type { AxiosResponse, InternalAxiosRequestConfig } from 'axios'
import { ElMessage } from 'element-plus'
import router from '@/router'

interface ApiResponse<T = any> {
  code: number
  message: string
  data: T
}

const request = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || 'http://localhost:8080/api/v1',
  timeout: 30000
})

// è¯·æ±‚æ‹¦æˆªå™¨
request.interceptors.request.use(
  (config: InternalAxiosRequestConfig) => {
    const token = localStorage.getItem('token')
    if (token) {
      config.headers.Authorization = `Bearer ${token}`
    }
    return config
  },
  error => {
    return Promise.reject(error)
  }
)

// å“åº”æ‹¦æˆªå™¨
request.interceptors.response.use(
  (response: AxiosResponse<ApiResponse>) => {
    const { code, message, data } = response.data
    
    if (code !== 200) {
      ElMessage.error(message || 'è¯·æ±‚å¤±è´¥')
      return Promise.reject(new Error(message))
    }
    
    return response.data
  },
  error => {
    if (error.response?.status === 401) {
      ElMessage.error('ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•')
      localStorage.removeItem('token')
      router.push('/login')
    } else {
      ElMessage.error(error.response?.data?.message || 'ç½‘ç»œé”™è¯¯')
    }
    return Promise.reject(error)
  }
)

export default request
```

### 7.2 API æ–¹æ³•å°è£…

```typescript
// src/api/document.ts
import request from './request'
import type { Document, DocumentListResponse } from '@/types/document'

export const documentApi = {
  // ä¸Šä¼ æ–‡æ¡£
  upload(formData: FormData) {
    return request.post<ApiResponse<Document>>('/documents/upload', formData, {
      headers: { 'Content-Type': 'multipart/form-data' }
    })
  },
  
  // è·å–æ–‡æ¡£åˆ—è¡¨
  getList(page = 1, pageSize = 10) {
    return request.get<DocumentListResponse>(`/documents?page=${page}&pageSize=${pageSize}`)
  },
  
  // è·å–æ–‡æ¡£è¯¦æƒ…
  getById(id: number) {
    return request.get<Document>(`/documents/${id}`)
  },
  
  // æ›´æ–°æ–‡æ¡£
  update(id: number, data: Partial<Document>) {
    return request.put<Document>(`/documents/${id}`, data)
  },
  
  // åˆ é™¤æ–‡æ¡£
  delete(id: number) {
    return request.delete(`/documents/${id}`)
  }
}
```

---

## 8. UI/UX è®¾è®¡è§„èŒƒ

### 8.1 è®¾è®¡é£æ ¼

- **æ•´ä½“é£æ ¼**ï¼šç®€æ´ã€ç°ä»£
- **ä¸»è‰²è°ƒ**ï¼šç™½è‰²/æ·¡è‰²ç³»èƒŒæ™¯ï¼Œè“è‰²ä¸»è‰²è°ƒ (#409eff)
- **æ–‡å­—**ï¼šä¸­è‹±æ–‡æ··æ’ï¼Œå­—ä½“å¤§å°é€‚ä¸­
- **é—´è·**ï¼šç»Ÿä¸€çš„é—´è·è§„èŒƒï¼ˆ8px åŸºå‡†ï¼‰

### 8.2 å¸ƒå±€è§„èŒƒ

- **å¯¼èˆªæ **ï¼šå›ºå®šé¡¶éƒ¨ï¼Œé«˜åº¦60px
- **ä¾§è¾¹æ **ï¼šå®½åº¦200pxï¼Œå¯é€‰æ˜¾ç¤º
- **ä¸»ä½“å†…å®¹**ï¼šå“åº”å¼å¸ƒå±€ï¼Œå¡ç‰‡å¼è®¾è®¡
- **é¡µè„š**ï¼šåŒ…å«ç‰ˆæƒä¿¡æ¯ã€è”ç³»æ–¹å¼

### 8.3 äº¤äº’è®¾è®¡

- **æŒ‰é’®**ï¼šæ˜æ˜¾çš„ç‚¹å‡»åé¦ˆï¼ˆé¢œè‰²å˜åŒ–ã€é˜´å½±ï¼‰
- **åŠ è½½çŠ¶æ€**ï¼šéª¨æ¶å± + Loading åŠ¨ç”»
- **é”™è¯¯æç¤º**ï¼šå‹å¥½çš„é”™è¯¯ä¿¡æ¯
- **æœç´¢æ¡†**ï¼šå®æ—¶æœç´¢æç¤ºï¼ˆé˜²æŠ–500msï¼‰

### 8.4 å“åº”å¼è®¾è®¡

```scss
// ç§»åŠ¨ç«¯é€‚é…
@media (max-width: 768px) {
  .app-container {
    .sidebar {
      display: none;
    }
    
    .document-grid {
      grid-template-columns: 1fr;
    }
  }
}
```

---

## 9. å¼€å‘å®æ–½è®¡åˆ’

### Phase 1: é¡¹ç›®åˆå§‹åŒ–ï¼ˆ1-2å¤©ï¼‰

- [x] ä½¿ç”¨ Vue CLI åˆ›å»ºé¡¹ç›®
- [ ] å®‰è£…ä¾èµ–ï¼ˆVue Router, Pinia, Element Plus, Axios, TypeScriptï¼‰
- [ ] é…ç½® Vite + TypeScript + ESLint
- [ ] æ­å»ºé¡¹ç›®ç›®å½•ç»“æ„
- [ ] é…ç½®ç¯å¢ƒå˜é‡

### Phase 2: è®¤è¯åŠŸèƒ½ï¼ˆ2-3å¤©ï¼‰

- [ ] å®ç°ç™»å½•é¡µé¢
- [ ] å®ç°æ³¨å†Œé¡µé¢
- [ ] å®ç° User Store
- [ ] å®ç° Axios æ‹¦æˆªå™¨
- [ ] å®ç°è·¯ç”±å®ˆå«

### Phase 3: æ–‡æ¡£ç®¡ç†ï¼ˆ5-7å¤©ï¼‰

- [ ] å®ç°æ–‡æ¡£ä¸Šä¼ åŠŸèƒ½ï¼ˆæ–‡ä»¶éªŒè¯ã€è¿›åº¦æç¤ºï¼‰
- [ ] å®ç°æ–‡æ¡£åˆ—è¡¨é¡µé¢ï¼ˆå¡ç‰‡å¸ƒå±€ã€åˆ†é¡µï¼‰
- [ ] å®ç°æ–‡æ¡£è¯¦æƒ…é¡µé¢
- [ ] å®ç°æ–‡æ¡£ç¼–è¾‘åŠŸèƒ½
- [ ] å®ç°æ–‡æ¡£åˆ é™¤åŠŸèƒ½

### Phase 4: åˆ†ç±»ç®¡ç†ï¼ˆ2-3å¤©ï¼‰

- [ ] å®ç°åˆ†ç±»åˆ—è¡¨å±•ç¤º
- [ ] å®ç°åˆ†ç±»åˆ›å»ºåŠŸèƒ½
- [ ] å®ç°åˆ†ç±»ç¼–è¾‘åŠŸèƒ½
- [ ] å®ç°åˆ†ç±»åˆ é™¤åŠŸèƒ½

### Phase 5: æœç´¢åŠŸèƒ½ï¼ˆ2-3å¤©ï¼‰

- [ ] å®ç°æœç´¢æ¡†ç»„ä»¶
- [ ] å®ç°æœç´¢ç»“æœé¡µé¢
- [ ] å®ç°é˜²æŠ–æœç´¢
- [ ] å®ç°é«˜äº®æ˜¾ç¤º

### Phase 6: UIä¼˜åŒ–ï¼ˆ3-5å¤©ï¼‰

- [ ] å®ç°å“åº”å¼å¸ƒå±€
- [ ] å®ç°éª¨æ¶å±åŠ è½½
- [ ] å®ç°å›¾ç‰‡æ‡’åŠ è½½
- [ ] ä¼˜åŒ–äº¤äº’ä½“éªŒ
- [ ] ä¼˜åŒ–æ€§èƒ½

### Phase 7: æµ‹è¯•ä¸éƒ¨ç½²ï¼ˆ3-5å¤©ï¼‰

- [ ] å•å…ƒæµ‹è¯•
- [ ] E2E æµ‹è¯•
- [ ] Bug ä¿®å¤
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ç”Ÿäº§ç¯å¢ƒé…ç½®
- [ ] éƒ¨ç½²ä¸Šçº¿

**æ€»è®¡ï¼š18-29å¤©**

---

## 10. æŠ€æœ¯å®ç°ç»†èŠ‚

### 10.1 æ–‡ä»¶ä¸Šä¼ å®ç°

```typescript
// components/document/DocumentUpload.vue
async function handleUpload() {
  // 1. éªŒè¯æ–‡ä»¶ç±»å‹
  const allowedTypes = ['.pdf', '.docx', '.doc', '.txt']
  if (!allowedTypes.some(type => file.name.endsWith(type))) {
    ElMessage.error('ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹')
    return
  }
  
  // 2. éªŒè¯æ–‡ä»¶å¤§å°ï¼ˆ100MBï¼‰
  const maxSize = 100 * 1024 * 1024
  if (file.size > maxSize) {
    ElMessage.error('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡100MB')
    return
  }
  
  // 3. åˆ›å»º FormData
  const formData = new FormData()
  formData.append('file', file)
  formData.append('title', form.title)
  formData.append('description', form.description)
  if (form.categoryId) {
    formData.append('categoryId', form.categoryId.toString())
  }
  
  // 4. ä¸Šä¼ æ–‡ä»¶ï¼ˆå¸¦è¿›åº¦æ¡ï¼‰
  loading.value = true
  try {
    await documentStore.uploadDocument(formData)
    ElMessage.success('ä¸Šä¼ æˆåŠŸ')
    router.push('/')
  } catch (error) {
    ElMessage.error('ä¸Šä¼ å¤±è´¥')
  } finally {
    loading.value = false
  }
}
```

### 10.2 é˜²æŠ–æœç´¢å®ç°

```typescript
import { debounce } from 'lodash-es'

const handleSearch = debounce((keyword: string) => {
  if (keyword.trim()) {
    searchStore.search(keyword)
  } else {
    searchStore.results = []
  }
}, 500)
```

### 10.3 è·¯ç”±å®ˆå«å®ç°

```typescript
router.beforeEach((to, from, next) => {
  const userStore = useUserStore()
  
  // éœ€è¦è®¤è¯çš„é¡µé¢
  if (to.meta.requiresAuth && !userStore.isAuthenticated) {
    next({ name: 'Login', query: { redirect: to.fullPath } })
    return
  }
  
  // å·²ç™»å½•ç”¨æˆ·è®¿é—®ç™»å½•é¡µ
  if (to.name === 'Login' && userStore.isAuthenticated) {
    next('/')
    return
  }
  
  next()
})
```

---

## 11. æ€»ç»“

æœ¬æ–‡æ¡£åŸºäºéœ€æ±‚æ–‡æ¡£å’Œ API æ¥å£æ–‡æ¡£ï¼Œæä¾›äº†å®Œæ•´çš„ä¸ªäººåšå®¢ç³»ç»Ÿå‰ç«¯å¼€å‘æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š

âœ… **è¯¦ç»†çš„éœ€æ±‚åˆ†æ**ï¼š6 ä¸ªåŠŸèƒ½éœ€æ±‚ï¼Œä¼˜å…ˆçº§æ˜ç¡®  
âœ… **å®Œæ•´çš„æŠ€æœ¯é€‰å‹**ï¼šVue3 + TypeScript + Vite + Pinia + Element Plus  
âœ… **æ¸…æ™°çš„é¡¹ç›®ç»“æ„**ï¼šç›®å½•è§„åˆ’ã€ç»„ä»¶æ‹†åˆ†ã€çŠ¶æ€ç®¡ç†  
âœ… **è¯¦ç»†çš„æ¥å£å¯¹æ¥**ï¼šAxios é…ç½®ã€é”™è¯¯å¤„ç†ã€Token ç®¡ç†  
âœ… **å®Œæ•´çš„ UI/UX è®¾è®¡**ï¼šå¸ƒå±€ã€äº¤äº’ã€å“åº”å¼  
âœ… **å¯æ‰§è¡Œçš„å¼€å‘è®¡åˆ’**ï¼š7 ä¸ªé˜¶æ®µï¼Œ18-29 å¤©å®Œæˆ

æœ¬æ–¹æ¡ˆå¯ç›´æ¥ç”¨äºé¡¹ç›®å¼€å‘ï¼Œæ‰€æœ‰è®¾è®¡éƒ½åŸºäºå®é™…éœ€æ±‚å’Œå·²æœ‰ API è§„èŒƒã€‚
